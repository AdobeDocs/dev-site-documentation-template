{"version":3,"file":"987e9e88-a50025b13026dd3a2a49.js","mappings":"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","sources":["webpack://dev-site-documentation-template/./node_modules/@adobe/gatsby-theme-aio/src/components/GetCredential/CredentialForm.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { css } from '@emotion/react';\r\nimport classNames from 'classnames';\r\nimport '@spectrum-css/contextualhelp/dist/index-vars.css';\r\nimport { Toast } from '../Toast';\r\nimport { handleAllowedDomainsValidation, MAX_TABLET_SCREEN_WIDTH, MIN_MOBILE_WIDTH } from './FormFields';\r\nimport { SideComponent } from './SideComponent';\r\nimport { CredentialName } from './Form/CredentialName';\r\nimport { AllowedOrigins } from './Form/AllowedOrigins';\r\nimport { Downloads } from './Form/Downloads';\r\nimport { Download } from './Form/Download';\r\nimport { SideContent } from './Form/SideContent';\r\nimport { AdobeDeveloperConsole } from './Form/AdobeDeveloperConsole';\r\nimport { CreateCredential } from './Form/CreateCredential';\r\nimport { MyCredential } from './MyCredential';\r\nimport { Loading } from './Loading';\r\nimport { IllustratedMessage } from './IllustratedMessage';\r\nimport { Product, Products } from './Products';\r\nimport { Organization } from './Organization';\r\nimport GetCredentialContext from './GetCredentialContext';\r\n\r\nconst credentialNameRegex = /^(?=[A-Za-z0-9\\s]{6,}$)[A-Za-z0-9\\s]*$/;\r\n\r\nconst CredentialForm = ({\r\n  showCreateForm,\r\n  setShowCreateForm,\r\n  isCreateNewCredential,\r\n  setIsCreateNewCredential,\r\n  setIsPrevious,\r\n  formData,\r\n  setFormData\r\n}) => {\r\n  const { getCredentialData } = useContext(GetCredentialContext);\r\n  const formProps = getCredentialData;\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const [response, setResponse] = useState({});\r\n  const [errResp, setErrorResp] = useState('');\r\n  const [showCredential, setShowCredential] = useState(false);\r\n  const [formField, setFormField] = useState([]);\r\n  const [isValid, setIsValid] = useState(false);\r\n  const [isMyCredential, setIsMyCredential] = useState(false);\r\n  const [isShow, setIsShow] = useState(false);\r\n  const [alertShow, setAlertShow] = useState(false);\r\n\r\n  const [isAllowedOriginsValid, setIsAllowedOriginsValid] = useState();\r\n\r\n  const { selectedOrganization, template, previousProjectDetail } = useContext(GetCredentialContext);\r\n\r\n  const credentialForm = formProps?.[CredentialForm];\r\n  const isFormValue = credentialForm?.children?.filter(data =>\r\n    Object.keys(data.props).some(key => key.startsWith('contextHelp'))\r\n  );\r\n\r\n  const initialLoad = () => {\r\n    const fields = {};\r\n    const downloadObj = { label: 'Language', selectOptions: [] };\r\n    const productsObj = { label: 'products', productList: [] };\r\n\r\n    credentialForm?.children.forEach(({ type, props }) => {\r\n      if (type === Downloads && props?.children) {\r\n        downloadObj.required = props.required || false;\r\n        downloadObj.selectOptions.push(\r\n          ...[].concat(props.children).map(({ props: { title, href } }) => ({ title, href }))\r\n        );\r\n        setFormData(prevData => ({\r\n          ...prevData,\r\n          ...(Array.isArray(props.children) ? null : { Download: props.children?.props?.title }),\r\n        }));\r\n      }\r\n      if (type === Products && props?.children) {\r\n        productsObj.productList.push(\r\n          ...[].concat(props.children).map(({ props: { label, icon } }) => ({ label, icon }))\r\n        );\r\n      }\r\n      fields[type] = { ...props, required: type === CredentialName || props?.required };\r\n    });\r\n\r\n    if (downloadObj.selectOptions.length) {\r\n      fields[Download] = downloadObj;\r\n      if (downloadObj.selectOptions.length === 1) {\r\n        setFormData(prevData => ({\r\n          ...prevData,\r\n          Download: downloadObj.selectOptions[0]?.title,\r\n          zipUrl: downloadObj.selectOptions[0]?.href,\r\n        }));\r\n      }\r\n    }\r\n    if (productsObj?.productList.length) {\r\n      fields[Product] = productsObj;\r\n    }\r\n\r\n    const isCredential = previousProjectDetail?.count ? true : false;\r\n    if (isCredential) {\r\n      setIsMyCredential(true);\r\n    } else {\r\n      setIsMyCredential(false);\r\n    }\r\n\r\n    setFormField(fields);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (window.adobeIMS?.isSignedInUser()) {\r\n      setTimeout(() => {\r\n        setLoading(false);\r\n      }, 1000);\r\n    } else {\r\n      setLoading(true);\r\n    }\r\n  }, [window.adobeIMS?.isSignedInUser()]);\r\n\r\n  useEffect(() => {\r\n    if (showCreateForm) setIsError(false);\r\n  }, [showCreateForm]);\r\n\r\n\r\n  useEffect(() => {\r\n    initialLoad();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const isValidCredentialName = credentialNameRegex.test(formData.CredentialName);\r\n\r\n    const isCheckAllowedOrgins = credentialForm.children.some((child) => {\r\n      return child.type === AllowedOrigins;\r\n    })\r\n    let isAllowedOriginsValid;\r\n    if (isCheckAllowedOrgins) {\r\n      if (formData['AllowedOrigins']) {\r\n        isAllowedOriginsValid = handleAllowedDomainsValidation(formData['AllowedOrigins'])\r\n      }\r\n    }\r\n    else {\r\n      isAllowedOriginsValid = true;\r\n    }\r\n    setIsAllowedOriginsValid(isAllowedOriginsValid)\r\n\r\n    const isValid = isValidCredentialName && (!isCheckAllowedOrgins || isAllowedOriginsValid) && formData.Agree === true;\r\n    setIsValid(isValid);\r\n  }, [formData]);\r\n\r\n  const handleChange = (e, type) => {\r\n    let value;\r\n    if (type === 'Download') {\r\n      value = e.title;\r\n    }\r\n    else {\r\n      value = type === 'Downloads' || type === 'Agree' ? e.target.checked : e.target.value;\r\n    }\r\n\r\n    setFormData(prevData => ({ ...prevData, [type]: value }));\r\n    if (type === 'Downloads') {\r\n      handleChange(download?.selectOptions[0], 'Download')\r\n    }\r\n\r\n    if (type === 'Download') {\r\n      const selectedData = formField?.[Download]?.selectOptions.find(\r\n        data => data.title === value\r\n      );\r\n      selectedData && setFormData(prevData => ({ ...prevData, zipUrl: selectedData.href }));\r\n    }\r\n  };\r\n\r\n  const handleErrors = (detailedMessage) => {\r\n    setLoading(false);\r\n    setAlertShow(true);\r\n    setIsValid(false);\r\n    setErrorResp(detailedMessage);\r\n    setShowCreateForm(true);\r\n    setIsError(true);\r\n  }\r\n\r\n  const createCredential = async () => {\r\n    const token = window.adobeIMS?.getTokenFromStorage()?.token;\r\n\r\n    if (!token) {\r\n      console.log('User not logged in');\r\n    }\r\n\r\n    setLoading(true);\r\n    setShowCreateForm(false);\r\n\r\n    const apis = template.apis.map(api => ({\r\n      code: api.code,\r\n      credentialType: api.credentialType,\r\n      flowType: api.flowType,\r\n      licenseConfigs:\r\n        Array.isArray(api.licenseConfigs) && api.licenseConfigs.length > 0\r\n          ? [{ ...api.licenseConfigs[0], op: 'add' }]\r\n          : [],\r\n    }));\r\n\r\n    const data = {\r\n      projectName: formData['CredentialName'],\r\n      description: 'created for get credential',\r\n      metadata: {\r\n        domain: formData['AllowedOrigins'],\r\n      },\r\n      orgId: selectedOrganization.code,\r\n      apis,\r\n    };\r\n\r\n    try {\r\n      const url = `/templates/install/${template.id}`;\r\n      const response = await fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n          'x-api-key': window?.adobeIMS?.adobeIdData?.client_id,\r\n          Accept: 'application/json',\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n\r\n      const resResp = await response?.json();\r\n\r\n      if (response.ok) {\r\n        setResponse(resResp);\r\n        setShowCredential(true);\r\n        setAlertShow(true);\r\n        setLoading(false);\r\n      } else {\r\n        const jsonString = resResp.errors[0].message.match(/\\((\\{.*\\})\\)/)[1];\r\n        const errorDetails = JSON.parse(jsonString);\r\n        handleErrors(errorDetails.messages[0].message)\r\n      }\r\n    } catch (error) {\r\n      setShowCreateForm(true);\r\n      setLoading(false);\r\n      setAlertShow(true);\r\n      setErrorResp(error.message);\r\n      setIsError(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isMyCredential) {\r\n      setIsPrevious(true);\r\n      setShowCreateForm(true);\r\n    }\r\n  }, [isMyCredential]);\r\n\r\n  const sideObject = formField?.[SideComponent];\r\n  const credentialName = formField?.[CredentialName];\r\n  const allowedOrigins = formField?.[AllowedOrigins];\r\n  const downloads = formField?.[Downloads];\r\n  const download = formField?.[Download];\r\n  const products = formField?.[Products];\r\n  const product = formField?.[Product];\r\n  const adobeDeveloperConsole = formField?.[AdobeDeveloperConsole];\r\n\r\n  const handleRestart = () => {\r\n    setShowCreateForm(true);\r\n    setShowCredential(false);\r\n    setIsCreateNewCredential(true);\r\n    setIsMyCredential(true);\r\n    setFormData({});\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showCreateForm && !loading && (\r\n        <div\r\n          className={classNames(credentialForm?.className)}\r\n          css={css`\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 48px;\r\n          `}\r\n          data-cy=\"credential-form\"\r\n          >\r\n          <div\r\n            css={css`\r\n              display: flex;\r\n              flex-direction: column;\r\n              gap: 48px;\r\n              color: var(--spectrum-global-color-gray-800);\r\n              width: 100%;\r\n              height: 100%;\r\n              text-align: left;\r\n              @media screen and (min-width: ${MIN_MOBILE_WIDTH}) and (max-width: ${MAX_TABLET_SCREEN_WIDTH}) {\r\n                padding: 0;\r\n                width: 100%;\r\n              }\r\n            `}>\r\n            <div\r\n              css={css`\r\n                display: flex;\r\n                flex-direction: column;\r\n                gap: 16px;\r\n              `}>\r\n              {credentialForm?.title && (\r\n                <h3 className=\"spectrum-Heading spectrum-Heading--sizeL\">\r\n                  {credentialForm?.title}\r\n                </h3>\r\n              )}\r\n              {credentialForm?.paragraph && (\r\n                <p className=\"spectrum-Body spectrum-Body--sizeL\">{credentialForm?.paragraph}</p>\r\n              )}\r\n              <p\r\n                className=\"spectrum-Body spectrum-Body--sizeS\"\r\n                css={css`\r\n                  color: var(--spectrum-global-color-gray-800);\r\n                  display: inline-flex;\r\n                `}\r\n                onClick={() => setIsShow(true)}>\r\n                {selectedOrganization.type === \"developer\" ?\r\n                  \"You're creating this credential in your personal developer organization\" :\r\n                  <>You're creating this credential in [<b>{selectedOrganization?.name}</b>].</>}\r\n                <Organization isShow={isShow} setIsShow={setIsShow} />\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div\r\n            css={css`\r\n              display: flex;\r\n              gap: 35px;\r\n\r\n              @media screen and (min-width: ${MIN_MOBILE_WIDTH}) and (max-width: ${MAX_TABLET_SCREEN_WIDTH}) {\r\n                flex-direction: column;\r\n                padding-left: 0;\r\n              }\r\n            `}>\r\n            <div\r\n              css={css`\r\n                display: flex;\r\n                flex-direction: column;\r\n                gap: 35px;\r\n                width: 50%;\r\n\r\n                @media screen and (min-width: ${MIN_MOBILE_WIDTH}) and (max-width: ${MAX_TABLET_SCREEN_WIDTH}) {\r\n                  width: 100%;\r\n                }\r\n              `}>\r\n              <div\r\n                css={css`\r\n                  display: flex;\r\n                  gap: 32px;\r\n                  width: 100%;\r\n                  flex-direction: column;\r\n                `}>\r\n                {credentialName && (\r\n                  <CredentialName\r\n                    nameProps={credentialName}\r\n                    isFormValue={isFormValue}\r\n                    formData={formData}\r\n                    handleChange={handleChange}\r\n                  />\r\n                )}\r\n                {allowedOrigins && (\r\n                  <AllowedOrigins\r\n                    originsProps={allowedOrigins}\r\n                    isFormValue={isFormValue}\r\n                    formData={formData}\r\n                    handleChange={handleChange}\r\n                    isAllowedOriginsValid={isAllowedOriginsValid}\r\n                  />\r\n                )}\r\n                {downloads && download && (\r\n                  <Downloads\r\n                    downloadsProp={downloads}\r\n                    type=\"Downloads\"\r\n                    formData={formData}\r\n                    handleChange={handleChange}\r\n                  />\r\n                )}\r\n                {formData['Downloads'] && download && (\r\n                  <Download\r\n                    downloadProp={download}\r\n                    isFormValue={isFormValue}\r\n                    handleChange={handleChange}\r\n                  />\r\n                )}\r\n                <Products products={products} product={product} />\r\n                {adobeDeveloperConsole && (\r\n                  <AdobeDeveloperConsole\r\n                    formData={formData}\r\n                    adobeDeveloperConsole={adobeDeveloperConsole}\r\n                    handleChange={handleChange}\r\n                  />\r\n                )}\r\n                <CreateCredential\r\n                  createCredential={createCredential}\r\n                  isValid={isValid}\r\n                  setIsCreateNewCredential={setIsCreateNewCredential}\r\n                  isCreateNewCredential={isCreateNewCredential}\r\n                />\r\n              </div>\r\n            </div>\r\n            {sideObject ? (\r\n              <SideContent sideContent={sideObject?.children} SideComp={SideComponent} />\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      )}\r\n      {alertShow && (\r\n        <>\r\n          {\r\n            <Toast\r\n              customDisableFunction={setAlertShow}\r\n              message={\r\n                showCreateForm && !showCredential\r\n                  ? errResp\r\n                  : !isError && showCredential && `Your credentials were created successfully.`\r\n              }\r\n              variant={isError || (showCreateForm && !showCredential) ? 'error' : 'success'}\r\n              disable={5000}\r\n            />\r\n          }\r\n        </>\r\n      )}\r\n      {loading && !showCredential && !isError && !showCreateForm && (\r\n        <Loading\r\n          credentials={credentialForm}\r\n          isCreateCredential\r\n          downloadStatus={formData['Downloads']}\r\n        />\r\n      )}\r\n      {isError && !showCreateForm && !showCredential && (\r\n        <IllustratedMessage errorMessage={formProps?.[IllustratedMessage]} />\r\n      )}\r\n      {showCredential && !showCreateForm && (\r\n        <MyCredential\r\n          response={response}\r\n          formData={formData}\r\n          handleRestart={handleRestart}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport { CredentialForm };\r\n"],"names":["credentialNameRegex","_ref","name","styles","_ref2","_ref3","_ref4","CredentialForm","_ref5","_credentialForm$child","_window$adobeIMS2","showCreateForm","setShowCreateForm","isCreateNewCredential","setIsCreateNewCredential","setIsPrevious","formData","setFormData","formProps","useContext","GetCredentialContext","getCredentialData","_useState","useState","loading","setLoading","_useState2","isError","setIsError","_useState3","response","setResponse","_useState4","errResp","setErrorResp","_useState5","showCredential","setShowCredential","_useState6","formField","setFormField","_useState7","isValid","setIsValid","_useState8","isMyCredential","setIsMyCredential","_useState9","isShow","setIsShow","_useState10","alertShow","setAlertShow","_useState11","isAllowedOriginsValid","setIsAllowedOriginsValid","_useContext2","selectedOrganization","template","previousProjectDetail","credentialForm","isFormValue","children","filter","data","Object","keys","props","some","key","startsWith","useEffect","_window$adobeIMS","window","adobeIMS","isSignedInUser","setTimeout","fields","downloadObj","label","selectOptions","productsObj","productList","forEach","_ref6","_downloadObj$selectOp","_productsObj$productL","type","Downloads","required","push","apply","_toConsumableArray","concat","map","_ref7","_ref7$props","title","href","prevData","_props$children","_props$children$props","_objectSpread","Array","isArray","Download","Products","_ref8","_ref8$props","icon","CredentialName","length","_downloadObj$selectOp2","_downloadObj$selectOp3","zipUrl","Product","isCredential","count","initialLoad","isValidCredentialName","test","isCheckAllowedOrgins","child","AllowedOrigins","handleAllowedDomainsValidation","Agree","handleChange","e","value","target","checked","_objectSpread2","download","_formField$Download","selectedData","find","createCredential","_ref9","_asyncToGenerator","_regeneratorRuntime","_callee","_window$adobeIMS3","_window$adobeIMS3$get","token","apis","_window","_window$adobeIMS4","_window$adobeIMS4$ado","url","_response","resResp","jsonString","errorDetails","_context","prev","next","getTokenFromStorage","console","log","api","code","credentialType","flowType","licenseConfigs","op","projectName","description","metadata","domain","orgId","id","fetch","method","headers","Authorization","adobeIdData","client_id","Accept","body","JSON","stringify","sent","json","ok","errors","message","match","parse","detailedMessage","messages","t0","stop","arguments","sideObject","SideComponent","credentialName","allowedOrigins","downloads","products","product","adobeDeveloperConsole","AdobeDeveloperConsole","___EmotionJSX","React","className","classNames","css","MIN_MOBILE_WIDTH","MAX_TABLET_SCREEN_WIDTH","paragraph","onClick","Organization","nameProps","originsProps","downloadsProp","downloadProp","CreateCredential","SideContent","sideContent","SideComp","Toast","customDisableFunction","variant","disable","Loading","credentials","isCreateCredential","downloadStatus","IllustratedMessage","errorMessage","MyCredential","handleRestart"],"sourceRoot":""}